<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			.lt{
				float: left;
			}
			.clear:after {
				content: '';
				display: block;
				clear: both;
			}
			.active {
				color: red;
			}
			.box {
				width: 300px;
				overflow: hidden;
				position: relative;
				left: 50%;
				margin-left: -450px;
				margin-top: 100px;
			}
			.boxInside {
				width: 900px;
				overflow: hidden;
				margin-left: 0px;
				transition: all 1s;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<div class="clear boxInside">
				<div class="lt">
					<img src="img/1.jpg" width="300" height="200">
				</div>
				<div class="lt">
					<img src="img/2.jpg" width="300" height="200">
				</div>
				<div class="lt">
					<img src="img/3.jpg" width="300" height="200">
				</div>
			</div>
			<div>
				<button class="active">图片1</button>
				<button>图片2</button>
				<button>图片3</button>
			</div>	
		</div>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript">
			$(function() {
				let index = 0;
				let timer = null;
				function clearNew() {
					$('button').removeClass("active");
					$('button').eq(index).addClass('active')
				}
				function timerMove() {
					timer = setInterval(function() {
						if(index >= 0 && index < 2) {
							index ++;
						}else if(index >= 2) {
							index = 0
						}
						clearNew()
						$('.boxInside').css({
							'margin-left': -(index*300) + 'px'
						})	
					},1000)
				}
				
				timerMove()
				$('button').click(function() {
					console.log($(this).index());
					index = $(this).index();
					clearNew()
					$('.boxInside').css({
						'margin-left': -(index*300) + 'px'
					})
				})
				$('.box').mouseover(function() {
					clearInterval(timer)
				})
				$('.box').mouseleave(function() {
					timerMove()
				})
			})
		</script>
	</body>
	
</html>
